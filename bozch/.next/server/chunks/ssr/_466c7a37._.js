module.exports=[92258,a=>{"use strict";let b=(0,a.i(70106).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);a.s(["Mail",()=>b],92258)},54161,a=>{"use strict";var b=a.i(87924),c=a.i(11011),d=a.i(187),e=a.i(97895);let f=(0,d.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},77156,a=>{"use strict";let b=(0,a.i(70106).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},45670,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11130),e=a.i(3130),f=a.i(40695),g=a.i(54161),h=a.i(65733),i=a.i(81560),j=a.i(92258);let k=(0,a.i(70106).default)("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);var l=a.i(77156);function m(){let[a,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(null),r=async()=>{try{let a=await fetch("/api/admin/contact-submissions");if(a.ok){let b=await a.json();m(b)}}catch(a){console.error("Error fetching messages:",a)}finally{o(!1)}};(0,c.useEffect)(()=>{r()},[]);let s=async(a,b)=>{try{(await fetch(`/api/admin/contact-submissions/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_read:b})})).ok&&r()}catch(a){console.error("Error updating message:",a)}},t=async a=>{if(confirm("Are you sure you want to delete this message?"))try{(await fetch(`/api/admin/contact-submissions/${a}`,{method:"DELETE"})).ok&&(r(),p?.id===a&&q(null))}catch(a){console.error("Error deleting message:",a)}},u=a=>{q(a),a.is_read||s(a.id,!0)},v=a.filter(a=>!a.is_read).length;return(0,b.jsxs)("div",{children:[(0,b.jsx)(d.AdminHeader,{title:"Messages",description:`${v} unread message${1!==v?"s":""}`}),(0,b.jsxs)("div",{className:"p-6",children:[n?(0,b.jsx)("div",{className:"space-y-4",children:[1,2,3,4,5].map(a=>(0,b.jsx)("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},a))}):0===a.length?(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"py-12 text-center text-muted-foreground",children:"No messages yet. Messages from your contact form will appear here."})}):(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>(0,b.jsx)(e.Card,{className:`cursor-pointer transition-colors hover:bg-muted/50 ${!a.is_read?"border-primary/50 bg-primary/5":""}`,onClick:()=>u(a),children:(0,b.jsx)(e.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:`h-10 w-10 rounded-full flex items-center justify-center shrink-0 ${!a.is_read?"bg-primary/10":"bg-muted"}`,children:a.is_read?(0,b.jsx)(k,{className:"h-5 w-5 text-muted-foreground"}):(0,b.jsx)(j.Mail,{className:"h-5 w-5 text-primary"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`font-medium ${!a.is_read?"text-foreground":"text-muted-foreground"}`,children:a.name}),!a.is_read&&(0,b.jsx)(g.Badge,{children:"New"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:a.email}),(0,b.jsx)("p",{className:`text-sm mt-1 truncate ${!a.is_read?"font-medium":""}`,children:a.subject||"No subject"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(a.created_at).toLocaleString()})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>u(a),children:(0,b.jsx)(l.Eye,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>t(a.id),children:(0,b.jsx)(i.Trash2,{className:"h-4 w-4"})})]})]})})},a.id))}),(0,b.jsx)(h.Dialog,{open:!!p,onOpenChange:()=>q(null),children:(0,b.jsxs)(h.DialogContent,{className:"max-w-lg",children:[(0,b.jsxs)(h.DialogHeader,{children:[(0,b.jsx)(h.DialogTitle,{children:p?.subject||"No subject"}),(0,b.jsxs)(h.DialogDescription,{children:["From ",p?.name," (",p?.email,")"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Received: ",p&&new Date(p.created_at).toLocaleString()]}),(0,b.jsx)("div",{className:"p-4 bg-muted/50 rounded-lg whitespace-pre-wrap",children:p?.message}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(f.Button,{variant:"outline",asChild:!0,children:(0,b.jsx)("a",{href:`mailto:${p?.email}`,children:"Reply via Email"})}),(0,b.jsx)(f.Button,{variant:"destructive",onClick:()=>p&&t(p.id),children:"Delete"})]})]})]})})]})]})}a.s(["default",()=>m],45670)}];

//# sourceMappingURL=_466c7a37._.js.map