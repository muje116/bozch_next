module.exports=[47854,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11130),e=a.i(3130),f=a.i(40695),g=a.i(5522),h=a.i(17171),i=a.i(80281),j=a.i(65733),k=a.i(15618),l=a.i(99464),m=a.i(81560);let n=(0,a.i(70106).default)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var o=a.i(96221);function p(){let[a,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)({title:"",subtitle:"",image_url:"",cta_text:"",cta_link:"",display_order:0,is_active:!0}),A=async()=>{try{let a=await fetch("/api/admin/hero-slides");if(a.ok){let b=await a.json();p(b)}}catch(a){console.error("Error fetching slides:",a)}finally{r(!1)}};(0,c.useEffect)(()=>{A()},[]);let B=async a=>{a.preventDefault(),x(!0);try{let a=u?`/api/admin/hero-slides/${u.id}`:"/api/admin/hero-slides",b=u?"PUT":"POST";(await fetch(a,{method:b,headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok&&(t(!1),v(null),D(),A())}catch(a){console.error("Error saving slide:",a)}finally{x(!1)}},C=async a=>{if(confirm("Are you sure you want to delete this slide?"))try{(await fetch(`/api/admin/hero-slides/${a}`,{method:"DELETE"})).ok&&A()}catch(a){console.error("Error deleting slide:",a)}},D=()=>{z({title:"",subtitle:"",image_url:"",cta_text:"",cta_link:"",display_order:a.length,is_active:!0})};return(0,b.jsxs)("div",{children:[(0,b.jsx)(d.AdminHeader,{title:"Hero Slides",description:"Manage your homepage carousel slides"}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("div",{className:"flex justify-end mb-6",children:(0,b.jsxs)(j.Dialog,{open:s,onOpenChange:a=>{t(a),a||(v(null),D())},children:[(0,b.jsx)(j.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(f.Button,{children:[(0,b.jsx)(k.Plus,{className:"h-4 w-4 mr-2"}),"Add Slide"]})}),(0,b.jsxs)(j.DialogContent,{className:"max-w-lg",children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsx)(j.DialogTitle,{children:u?"Edit Slide":"Add New Slide"}),(0,b.jsx)(j.DialogDescription,{children:u?"Update the slide details below":"Fill in the details for your new slide"})]}),(0,b.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"title",children:"Title"}),(0,b.jsx)(g.Input,{id:"title",value:y.title,onChange:a=>z({...y,title:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"subtitle",children:"Subtitle"}),(0,b.jsx)(g.Input,{id:"subtitle",value:y.subtitle,onChange:a=>z({...y,subtitle:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"image_url",children:"Image URL"}),(0,b.jsx)(g.Input,{id:"image_url",value:y.image_url,onChange:a=>z({...y,image_url:a.target.value}),placeholder:"/images/slide.jpg",required:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"cta_text",children:"Button Text"}),(0,b.jsx)(g.Input,{id:"cta_text",value:y.cta_text,onChange:a=>z({...y,cta_text:a.target.value}),placeholder:"Learn More"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"cta_link",children:"Button Link"}),(0,b.jsx)(g.Input,{id:"cta_link",value:y.cta_link,onChange:a=>z({...y,cta_link:a.target.value}),placeholder:"/about"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"display_order",children:"Display Order"}),(0,b.jsx)(g.Input,{id:"display_order",type:"number",value:y.display_order,onChange:a=>z({...y,display_order:Number.parseInt(a.target.value)})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-6",children:[(0,b.jsx)(h.Label,{htmlFor:"is_active",children:"Active"}),(0,b.jsx)(i.Switch,{id:"is_active",checked:y.is_active,onCheckedChange:a=>z({...y,is_active:a})})]})]}),(0,b.jsx)(j.DialogFooter,{children:(0,b.jsxs)(f.Button,{type:"submit",disabled:w,children:[w&&(0,b.jsx)(o.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),u?"Update Slide":"Add Slide"]})})]})]})]})}),q?(0,b.jsx)("div",{className:"space-y-4",children:[1,2,3].map(a=>(0,b.jsx)("div",{className:"h-24 bg-muted animate-pulse rounded-lg"},a))}):0===a.length?(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"py-12 text-center text-muted-foreground",children:'No slides yet. Click "Add Slide" to create your first one.'})}):(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,b.jsx)(e.Card,{className:a.is_active?"":"opacity-60",children:(0,b.jsx)(e.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"cursor-move text-muted-foreground",children:(0,b.jsx)(n,{className:"h-5 w-5"})}),(0,b.jsx)("div",{className:"h-16 w-24 rounded-md overflow-hidden bg-muted shrink-0",children:(0,b.jsx)("img",{src:a.image_url||"/placeholder.png",alt:a.title,className:"h-full w-full object-cover"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-medium truncate",children:a.title}),!a.is_active&&(0,b.jsx)("span",{className:"text-xs bg-muted px-2 py-0.5 rounded",children:"Inactive"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:a.subtitle})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",onClick:()=>{v(a),z({title:a.title,subtitle:a.subtitle||"",image_url:a.image_url,cta_text:a.cta_text||"",cta_link:a.cta_link||"",display_order:a.display_order,is_active:a.is_active}),t(!0)},children:(0,b.jsx)(l.Pencil,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>C(a.id),children:(0,b.jsx)(m.Trash2,{className:"h-4 w-4"})})]})]})})},a.id))})]})]})}a.s(["default",()=>p],47854)}];

//# sourceMappingURL=app_admin_%28dashboard%29_hero-slides_page_tsx_9d61de49._.js.map